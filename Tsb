-- Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

-- Constants
local TWEEN_INFO = TweenInfo.new(
    1, -- Duration (1 second)
    Enum.EasingStyle.Quad, -- Smooth easing style
    Enum.EasingDirection.Out -- Easing direction
)

-- Variables
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- Function to tween to nearest player
local function tweenToNearestPlayer()
    -- Get all players
    local allPlayers = Players:GetPlayers()
    local nearestPlayer
    local shortestDistance = math.huge
    
    -- Find nearest player
    for _, otherPlayer in ipairs(allPlayers) do
        if otherPlayer ~= player and otherPlayer.Character then
            local otherHRP = otherPlayer.Character:FindFirstChild("HumanoidRootPart")
            if otherHRP then
                local distance = (otherHRP.Position - humanoidRootPart.Position).Magnitude
                if distance < shortestDistance then
                    shortestDistance = distance
                    nearestPlayer = otherPlayer
                end
            end
        end
    end
    
    -- If we found a player, tween to them
    if nearestPlayer and nearestPlayer.Character then
        local targetHRP = nearestPlayer.Character:FindFirstChild("HumanoidRootPart")
        if targetHRP then
            local tweenGoal = {
                CFrame = targetHRP.CFrame
            }
            
            local tween = TweenService:Create(humanoidRootPart, TWEEN_INFO, tweenGoal)
            tween:Play()
        end
    end
end

-- Create button to trigger the tween
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player.PlayerGui

local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 200, 0, 50)
button.Position = UDim2.new(0.5, -100, 0.9, -25)
button.Text = "Tween to Nearest Player"
button.BackgroundColor3 = Color3.fromRGB(0, 162, 255)
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.Font = Enum.Font.GothamBold
button.TextSize = 14
button.AnchorPoint = Vector2.new(0.5, 0.5)
button.Parent = screenGui

-- Corner radius for the button
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0, 8)
uiCorner.Parent = button

-- Connect the button to the tween function
button.MouseButton1Click:Connect(tweenToNearestPlayer)
